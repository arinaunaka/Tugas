{% extends 'base.html' %}

{% block meta %}
<title>To Do List</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<style>
  head, body {
    height: 100vh;
    font-family: 'Poppins', sans-serif;
  }

  body {
    align-items: center;
    background: linear-gradient(-45deg, rgb(255, 157, 52), #e73c7e, #23a6d5, #23d5ab);
	  background-size: 400% 400%;
	  animation: gradient 15s ease infinite;    
  }

  @keyframes gradient {
	0% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
	100% {
		background-position: 0% 50%;
	}
  }

  .content {
    padding-left: 15px;
    padding-right: 15px;
  }

  .delete {
    display:block;
    float:right;
    text-align:center;
    position: absolute;
    top: 10px;
    right: 10px;    
  }
 </style>
{% endblock meta %}

{% block content %}
<main class="todolist m-auto">
  <nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container-fluid">
        <h1 class="navbar-brand fw-bold mb-0">To Do List</h1>
        <button class="btn btn-outline-danger" type="button" onclick="location.href='/todolist/logout'">Logout</button>
    </div>
  </nav>
  <div class="content w-100">
    <div class="header text-center">
      <h2 class="fw-semibold text-light mb-2">Hello, {{user.get_username}}!</h2>
      <button class="h5 p-2 mb-5 text-light bg-dark rounded-3 disabled">{{message}}</button>
    </div>

    <div class="row row-cols-1 row-cols-md-4 g-4">
      {% for task in list_task %}
      <div class="col">
        <div class="card shadow" style="width:18rem;">
          <div class="card-body">
            <a href="{% url 'todolist:delete' task.id %}" class="delete" style="text-decoration:solid">üóëÔ∏è</a>
            <h5 class="card-title fw-semibold" style="max-width:14rem">{{task.title}}</h5>
            <h6 class="card-subtitle mb-2 text-muted">Created: {{task.date}}</h6>
            <p class="card-text">{{task.description}}</p>
          </div>
          <div class="card-footer">
            {% if task.is_finished %}
            <p class="mt-1 mb-0" style="float:left">Finished</p>
            {% else %}
            <p class="mt-1 mb-0" style="float:left">Not Finished</p>
            {% endif %}
            <button type="button" class="btn btn-dark btn-sm" style="float:right"><a class="text-light" href="{% url 'todolist:status' task.id %}" style="text-decoration:solid">Change</a></button>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <div class="button text-center">
      <button type="button" class="btn btn-outline-dark btn-lg mt-5 mb-5 fw-bold" onclick="location.href='/todolist/create-task'">Create New Task</button> 
    </div>
  </div>
</main>
{% endblock content %}